From 42bb80433540f0a969e5b2ca1db5654dd480646a Mon Sep 17 00:00:00 2001
From: Tanya Singh <tanya_singh@accton.com>
Date: Mon, 5 Sep 2022 15:22:10 +0800
Subject: [PATCH] netifd-wireless: fix the wpa value that hostapd receives for
 wpa3-mixed encryption

Signed-off-by: Tanya Singh <tanya_singh@accton.com>
---
 ...00-netifd-wireless-fix-encryption-wpa.patch | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)
 create mode 100644 package/network/config/netifd/patches/300-netifd-wireless-fix-encryption-wpa.patch

diff --git a/package/network/config/netifd/patches/300-netifd-wireless-fix-encryption-wpa.patch b/package/network/config/netifd/patches/300-netifd-wireless-fix-encryption-wpa.patch
new file mode 100644
index 0000000000..cdb1ca9954
--- /dev/null
+++ b/package/network/config/netifd/patches/300-netifd-wireless-fix-encryption-wpa.patch
@@ -0,0 +1,18 @@
+--- a/scripts/netifd-wireless.sh	2022-09-05 15:13:49.403412126 +0800
++++ b/scripts/netifd-wireless.sh	2022-09-05 15:15:12.699149021 +0800
+@@ -231,12 +231,12 @@
+ 	# wpa2/tkip+aes     => WPA2 RADIUS, CCMP+TKIP
+ 
+ 	case "$encryption" in
+-		wpa2*|wpa3*|*psk2*|psk3*|sae*|owe*)
+-			wpa=2
+-		;;
+ 		wpa*mixed*|*psk*mixed*)
+ 			wpa=3
+ 		;;
++		wpa2*|wpa3*|*psk2*|psk3*|sae*|owe*)
++			wpa=2
++		;;
+ 		wpa*|*psk*)
+ 			wpa=1
+ 		;;
-- 
2.17.1

