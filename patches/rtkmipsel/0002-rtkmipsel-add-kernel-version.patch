From 07b199d0759992a17a2ef42b75776635c7e57d21 Mon Sep 17 00:00:00 2001
From: John Crispin <john@phrozen.org>
Date: Sun, 2 Jan 2022 09:56:17 +0100
Subject: [PATCH] rtkmipsel: add kernel-version

Signed-off-by: John Crispin <john@phrozen.org>
---
 include/kernel-version.mk | 2 ++
 include/target.mk         | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/include/kernel-version.mk b/include/kernel-version.mk
index dff01895be..f5a95af201 100644
--- a/include/kernel-version.mk
+++ b/include/kernel-version.mk
@@ -6,11 +6,13 @@ ifdef CONFIG_TESTING_KERNEL
   KERNEL_PATCHVER:=$(KERNEL_TESTING_PATCHVER)
 endif
 
+LINUX_VERSION-3.18 = .29
 LINUX_VERSION-4.4 = .60
 LINUX_VERSION-4.14 = .193
 LINUX_VERSION-5.4 = .142
 LINUX_VERSION-5.10 = .27
 
+LINUX_KERNEL_HASH-3.18.29 = d099072fcbd6aefea8c787c0325eaa56c65b35b15c52579c8a613349bcba425f
 LINUX_KERNEL_HASH-4.4.60 = e7f2f47acf17497d6ffd713eda65c025b3df0bce09faa8c04712bf1b3cfc9fdb
 LINUX_KERNEL_HASH-4.14.193 = 0b0fb41d4430e1a42738b341cbfd2f41951aa5cd02acabbd53f076119c8b9f03
 LINUX_KERNEL_HASH-5.4.142 = 99785728968564ba27c7e552d024b560072dcbc885540912eabb5c021e231451
diff --git a/include/target.mk b/include/target.mk
index 691f8fb186..d198d59262 100644
--- a/include/target.mk
+++ b/include/target.mk
@@ -138,7 +138,7 @@ ifneq ($(TARGET_BUILD)$(if $(DUMP),,1),)
 endif
 
 GENERIC_PLATFORM_DIR := $(TOPDIR)/target/linux/generic
-ifeq ($(CONFIG_TARGET_ipq807x),y)
+ifeq ($(CONFIG_TARGET_ipq807x)$(CONFIG_TARGET_rtkmipsel),y)
 GENERIC_BACKPORT_DIR :=
 GENERIC_PATCH_DIR :=
 GENERIC_HACK_DIR :=
-- 
2.25.1

